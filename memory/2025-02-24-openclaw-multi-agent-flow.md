# OpenClaw Multi-Agent æµç¨‹è©³è§£

## ğŸ”„ å®Œæ•´æµç¨‹åœ–

```
User Input (WhatsApp/Telegram/Signal...)
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Gateway å…¥ç«™è·¯ç”± (Bindings)                              â”‚
â”‚  - æŒ‰ channel, accountId, peer åŒ¹é… Agent                 â”‚
â”‚  - æ±ºå®šä½¿ç”¨å“ªå€‹ agent (main/home/work)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Classifier-Agent (æ„åœ–è­˜åˆ¥)                              â”‚
â”‚  - åˆ†æç”¨æˆ¶è¼¸å…¥çš„æ„åœ–                                      â”‚
â”‚  - åˆ†é¡: chat / task / code / data / unsafe              â”‚
â”‚  - è¿”å›åˆ†é¡çµæœ + å…ƒæ•¸æ“š                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Manager-Agent (è·¯ç”±æ±ºç­–)                                 â”‚
â”‚  - æ¥æ”¶ classifier çµæœ                                   â”‚
â”‚  - æ±ºå®šèª¿ç”¨å“ªå€‹å°ˆé–€åŒ– agent                               â”‚
â”‚  - æ§åˆ¶åŸ·è¡Œé †åº (ä¸²è¡Œ/ä¸¦è¡Œ)                               â”‚
â”‚  - è™•ç†å¤±æ•—é‡è©¦å’Œé™ç´š                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
    â”œâ”€â”€â†’ Chat-Agent â†’ ç›´æ¥å›æ‡‰ç”¨æˆ¶
    â”œâ”€â”€â†’ Task-Agent â†’ åŸ·è¡Œä»»å‹™ â†’ Manager
    â”œâ”€â”€â†’ Coding-Agent â†’ ä»£ç¢¼ç”Ÿæˆ/åŸ·è¡Œ â†’ Manager
    â”œâ”€â”€â†’ Data-Agent â†’ æŸ¥è©¢è³‡æ–™åº« â†’ Manager
    â””â”€â”€â†’ QA-Agent â†’ é©—è­‰çµæœ â†’ Manager
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Manager-Agent (çµæœå”èª¿)                                 â”‚
â”‚  - åŒ¯ç¸½æ‰€æœ‰å°ˆé–€åŒ– agent çš„çµæœ                           â”‚
â”‚  - æ±ºå®šæ˜¯å¦éœ€è¦å¾ŒçºŒè™•ç†                                  â”‚
â”‚  - è§¸ç™¼ Chat-Agent ç”Ÿæˆæœ€çµ‚å›æ‡‰                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
User Response (åŸæ¸ é“è¿”å›)
```

---

## 1. Classifier-Agentï¼ˆåˆ†é¡å™¨ï¼‰

### è·è²¬
- åˆ†æç”¨æˆ¶è¼¸å…¥çš„æ„åœ–
- æå–é—œéµä¿¡æ¯ï¼ˆå¯¦é«”ã€åƒæ•¸ï¼‰
- è©•ä¼°è¤‡é›œåº¦å’Œé¢¨éšªç­‰ç´š
- è¿”å›çµæ§‹åŒ–çš„åˆ†é¡çµæœ

### è¼¸å…¥
```json
{
  "userInput": "å¹«æˆ‘å¯«ä¸€å€‹ Python è…³æœ¬ä¾†åˆ†æ CSV æ•¸æ“š",
  "channel": "whatsapp",
  "peer": "+85264089012",
  "timestamp": 1740389700
}
```

### è¼¸å‡º
```json
{
  "intent": "code",
  "confidence": 0.92,
  "subIntent": "csv_analysis",
  "entities": {
    "language": "python",
    "task": "analyze_csv"
  },
  "complexity": "medium",
  "requiresTools": ["exec", "write"],
  "riskLevel": "low"
}
```

### æ„åœ–é¡å‹
| æ„åœ– | æè¿° | ç¤ºä¾‹ |
|------|------|------|
| **chat** | é–’èŠã€å•ç­” | "ä½ å¥½"ã€"å¤©æ°£å¦‚ä½•" |
| **task** | é€šç”¨ä»»å‹™ | "å¹«æˆ‘é ç´„æœƒè­°"ã€"ç™¼éƒµä»¶" |
| **code** | ä»£ç¢¼ç›¸é—œ | "å¯«å€‹è…³æœ¬"ã€"é‡æ§‹é€™å€‹å‡½æ•¸" |
| **data** | æ•¸æ“šæŸ¥è©¢/è™•ç† | "æŸ¥è©¢éŠ·å”®æ•¸æ“š"ã€"ç”Ÿæˆå ±è¡¨" |
| **unsafe** | å®‰å…¨é¢¨éšª | "åˆªé™¤æ‰€æœ‰æ–‡ä»¶"ã€"ç™¼é€åƒåœ¾éƒµä»¶" |

### OpenClaw å¯¦ç¾

**æ–¹æ³• 1ï¼šä½¿ç”¨ sessions_spawn ç”Ÿæˆ sub-agent**
```json5
{
  agents: {
    list: [
      {
        id: "main",
        workspace: "~/.openclaw/workspace-main",
        subagents: {
          allowAgents: ["classifier", "manager", "chat", "task", "coding", "data"],
        },
      },
    ],
  },
  tools: {
    subagents: {
      tools: {
        deny: ["sessions_spawn"],  // classifier ä¸èƒ½ç”Ÿæˆ sub-agent
      },
    },
  },
}
```

**æ–¹æ³• 2ï¼šä½¿ç”¨ sessions_send ç™¼é€åˆ°ç‰¹å®š session**
```json
{
  "from": "main",
  "to": "classifier-agent",
  "type": "classify",
  "payload": {
    "userInput": "å¹«æˆ‘å¯«å€‹ Python è…³æœ¬"
  }
}
```

---

## 2. Manager-Agentï¼ˆç®¡ç†å™¨ï¼‰

### è·è²¬
- æ¥æ”¶ classifier çš„åˆ†é¡çµæœ
- æ±ºå®šèª¿ç”¨å“ªäº›å°ˆé–€åŒ– agents
- æ§åˆ¶åŸ·è¡Œæµç¨‹ï¼ˆä¸²è¡Œ/ä¸¦è¡Œï¼‰
- è™•ç†éŒ¯èª¤å’Œç•°å¸¸
- å”èª¿æœ€çµ‚è¼¸å‡º

### è·¯ç”±æ±ºç­–é‚è¼¯

```javascript
// å½ä»£ç¢¼ç¤ºä¾‹
function route(classification) {
  switch(classification.intent) {
    case 'chat':
      return ['chat'];
    case 'task':
      return ['task', 'qa'];
    case 'code':
      return ['coding', 'qa'];
    case 'data':
      return ['data', 'coding', 'qa'];
    case 'unsafe':
      return ['security-alert'];
    default:
      return ['chat'];  // å›é€€åˆ° chat
  }
}
```

### ä¸¦è¡ŒåŸ·è¡Œç¤ºä¾‹

ç•¶éœ€è¦å¤šå€‹ agents ä¸¦è¡ŒåŸ·è¡Œæ™‚ï¼š

```
Classification: "åˆ†æé€™å€‹ API ä¸¦ç”Ÿæˆæ–‡æª”"
    â†“
Manager æ±ºå®šä¸¦è¡ŒåŸ·è¡Œ:
    â”œâ”€â”€ Coding-Agent â†’ åˆ†æä»£ç¢¼
    â”œâ”€â”€ Data-Agent â†’ æŸ¥è©¢ API è¦ç¯„
    â””â”€â”€ Research-Agent â†’ æœç´¢æœ€ä½³å¯¦è¸
    â†“
Manager åŒ¯ç¸½çµæœ
    â†“
Chat-Agent ç”Ÿæˆæ–‡æª”
```

### é‡è©¦ç­–ç•¥

```json
{
  "retryPolicy": {
    "maxRetries": 3,
    "backoff": "exponential",
    "retryableErrors": ["timeout", "rate_limit", "temporary_failure"],
    "fallback": {
      "coding-agent": "chat-agent",
      "data-agent": "research-agent"
    }
  }
}
```

---

## 3. å°ˆé–€åŒ– Agents

### Chat-Agentï¼ˆå°è©±ä»£ç†ï¼‰

**è·è²¬**ï¼š
- è™•ç†é–’èŠå’Œç°¡å–®å•ç­”
- ç”Ÿæˆå‹å¥½çš„å›æ‡‰
- ç¶­è­·å°è©±ä¸Šä¸‹æ–‡

**æ¬Šé™**ï¼š
```json5
{
  id: "chat",
  tools: {
    allow: ["read", "memory_search", "memory_get", "web_search"],
    deny: ["exec", "write", "edit", "browser", "cron"],
  },
  groupChat: {
    mentionPatterns: ["@jarvis", "@chat"],
  },
}
```

**è¼¸å…¥**ï¼š
```json
{
  "from": "manager",
  "type": "respond",
  "context": "ç”¨æˆ¶å•å¤©æ°£",
  "userMessage": "ä»Šå¤©å¤©æ°£å¦‚ä½•ï¼Ÿ"
}
```

**è¼¸å‡º**ï¼š
```json
{
  "from": "chat",
  "type": "response",
  "message": "æˆ‘å¹«ä½ æŸ¥ä¸€ä¸‹ä»Šå¤©çš„å¤©æ°£...",
  "actionsTaken": ["web_search", "response_generation"]
}
```

---

### Task-Agentï¼ˆä»»å‹™ä»£ç†ï¼‰

**è·è²¬**ï¼š
- åŸ·è¡Œé€šç”¨ä»»å‹™ï¼ˆéƒµä»¶ã€æ—¥æ›†ã€æé†’ï¼‰
- èª¿ç”¨ç›¸é—œå·¥å…·
- è¿”å›åŸ·è¡Œçµæœ

**æ¬Šé™**ï¼š
```json5
{
  id: "task",
  tools: {
    allow: ["read", "write", "exec", "message", "cron", "himalaya"],
    deny: ["browser", "canvas"],
  },
}
```

**ç¤ºä¾‹ï¼šç™¼é€éƒµä»¶**

```
User: "ç™¼éƒµä»¶çµ¦ evan@example.com èªªæœƒè­°æ”¹æœŸäº†"
    â†“
Classifier: intent=task, subIntent=send_email
    â†“
Manager â†’ Task-Agent
    â†“
Task-Agent:
  1. è§£æéƒµä»¶åœ°å€å’Œå…§å®¹
  2. èª¿ç”¨ himalaya (CLI email client)
  3. ç™¼é€éƒµä»¶
  4. è¿”å›çµæœ
    â†“
Manager â†’ Chat-Agent â†’ "å·²ç™¼é€ï¼"
```

---

### Coding-Agentï¼ˆä»£ç¢¼ä»£ç†ï¼‰

**è·è²¬**ï¼š
- ä»£ç¢¼ç”Ÿæˆ
- ä»£ç¢¼å¯©æŸ¥
- ä»£ç¢¼åŸ·è¡Œï¼ˆæœ‰é™åˆ¶ï¼‰
- ä»£ç¢¼é‡æ§‹

**æ¬Šé™**ï¼š
```json5
{
  id: "coding",
  tools: {
    allow: ["read", "write", "edit", "exec", "web_search"],
    deny: ["browser", "canvas", "message"],
  },
  sandbox: {
    mode: "all",
    scope: "agent",  // æ¯æ¬¡åœ¨æ²™ç®±åŸ·è¡Œ
  },
}
```

**ç¤ºä¾‹ï¼šç”Ÿæˆ CSV åˆ†æè…³æœ¬**

```
User: "å¯«å€‹ Python è…³æœ¬åˆ†æ sales.csv"
    â†“
Classifier: intent=code, subIntent=csv_analysis, language=python
    â†“
Manager â†’ Coding-Agent
    â†“
Coding-Agent:
  1. è®€å– sales.csv (read)
  2. åˆ†ææ•¸æ“šçµæ§‹
  3. ç”Ÿæˆ Python è…³æœ¬
  4. åœ¨æ²™ç®±ä¸­æ¸¬è©¦ (exec)
  5. è¿”å›è…³æœ¬
    â†“
Manager â†’ Chat-Agent â†’ "è…³æœ¬å·²ç”Ÿæˆï¼Œé€™æ˜¯ä»£ç¢¼ï¼š..."
```

---

### Data-Agentï¼ˆæ•¸æ“šä»£ç†ï¼‰

**è·è²¬**ï¼š
- è³‡æ–™åº«æŸ¥è©¢
- API èª¿ç”¨
- æ•¸æ“šè™•ç†å’Œèšåˆ
- å ±è¡¨ç”Ÿæˆ

**æ¬Šé™**ï¼š
```json5
{
  id: "data",
  tools: {
    allow: ["read", "exec", "web_fetch"],
    deny: ["write", "edit", "message"],
  },
}
```

**ç¤ºä¾‹ï¼šæŸ¥è©¢éŠ·å”®æ•¸æ“š**

```
User: "é€™å€‹æœˆç¸½å…±è³£äº†å¤šå°‘éŒ¢ï¼Ÿ"
    â†“
Classifier: intent=data, subIntent=sales_query
    â†“
Manager â†’ Data-Agent
    â†“
Data-Agent:
  1. é€£æ¥è³‡æ–™åº« (exec psql/sqlite3)
  2. åŸ·è¡ŒæŸ¥è©¢
  3. èšåˆçµæœ
  4. è¿”å›æ•¸æ“š
    â†“
Manager â†’ Chat-Agent â†’ "æœ¬æœˆéŠ·å”®é¡ï¼š$123,456"
```

---

### QA-Agentï¼ˆè³ªé‡ä¿è­‰ä»£ç†ï¼‰

**è·è²¬**ï¼š
- é©—è­‰å…¶ä»– agents çš„çµæœ
- æª¢æŸ¥å®‰å…¨å’Œåˆè¦æ€§
- è³ªé‡è©•åˆ†

**æ¬Šé™**ï¼š
```json5
{
  id: "qa",
  tools: {
    allow: ["read", "memory_search"],
    deny: ["exec", "write", "edit", "message"],
  },
}
```

**ç¤ºä¾‹ï¼šé©—è­‰ä»£ç¢¼å®‰å…¨æ€§**

```
Coding-Agent ç”Ÿæˆä»£ç¢¼
    â†“
Manager â†’ QA-Agent
    â†“
QA-Agent:
  1. æª¢æŸ¥ä»£ç¢¼å®‰å…¨æ€§ï¼ˆSQL æ³¨å…¥ã€å‘½ä»¤æ³¨å…¥ç­‰ï¼‰
  2. é©—è­‰é‚è¼¯æ­£ç¢ºæ€§
  3. ç”Ÿæˆè³ªé‡å ±å‘Š
    â†“
Manager:
  - å¦‚æœé€šéï¼šç¹¼çºŒ
  - å¦‚æœå¤±æ•—ï¼šè¦æ±‚ Coding-Agent ä¿®æ­£
```

---

## 4. Manager-Agentï¼ˆå¯é¸ï¼šçµæœå”èª¿ï¼‰

### è·è²¬
- åŒ¯ç¸½æ‰€æœ‰å°ˆé–€åŒ– agents çš„çµæœ
- æ±ºå®šæ˜¯å¦éœ€è¦å¾ŒçºŒè™•ç†
- è§¸ç™¼ Chat-Agent ç”Ÿæˆæœ€çµ‚å›æ‡‰

### çµæœèšåˆç¤ºä¾‹

```json
{
  "managerDecision": {
    "nextAction": "aggregate",
    "agentsResults": [
      {
        "agent": "coding",
        "status": "success",
        "output": "è…³æœ¬ç”Ÿæˆå®Œç•¢"
      },
      {
        "agent": "qa",
        "status": "success",
        "output": "è³ªé‡æª¢æŸ¥é€šé"
      }
    ],
    "finalAgent": "chat",
    "context": "éœ€è¦å‘Šè¨´ç”¨æˆ¶è…³æœ¬å·²ç”Ÿæˆä¸”å®‰å…¨"
  }
}
```

---

## ğŸ“‹ å®Œæ•´é…ç½®ç¤ºä¾‹

### ~/.openclaw/openclaw.json

```json5
{
  agents: {
    list: [
      {
        id: "main",
        workspace: "~/.openclaw/workspace-main",
        default: true,
        subagents: {
          allowAgents: ["classifier", "manager", "chat", "task", "coding", "data", "qa"],
          model: "zai/glm-4.7",  // Sub-agent é»˜èªæ¨¡å‹
          maxConcurrent: 8,
        },
      },
    ],
  },

  bindings: [
    { agentId: "main", match: { channel: "whatsapp" } },
  ],

  tools: {
    agentToAgent: {
      enabled: true,
      allow: ["classifier", "manager", "chat", "task", "coding", "data", "qa"],
    },
    subagents: {
      tools: {
        deny: ["gateway"],  // Sub-agent ä¸èƒ½ä¿®æ”¹é…ç½®
      },
    },
  },

  channels: {
    whatsapp: {
      dmPolicy: "allowlist",
      allowFrom: ["+85264089012"],
    },
  },
}
```

---

## ğŸ”§ å·¥å…·ä½¿ç”¨ç¤ºä¾‹

### åœ¨ Agent ä¸­èª¿ç”¨ Classifier

```javascript
// ä½¿ç”¨ sessions_spawn èª¿ç”¨ classifier
{
  "tool": "sessions_spawn",
  "parameters": {
    "agentId": "classifier",
    "task": "åˆ†é¡ä»¥ä¸‹ç”¨æˆ¶è¼¸å…¥ï¼š'å¹«æˆ‘å¯«å€‹ Python è…³æœ¬'",
    "label": "classify-input",
    "timeoutSeconds": 30
  }
}
```

### Manager èª¿ç”¨å°ˆé–€åŒ– Agent

```javascript
// ä¸²è¡ŒåŸ·è¡Œ
{
  "tool": "sessions_spawn",
  "parameters": {
    "agentId": "coding",
    "task": "æ ¹æ“šåˆ†æçµæœç”Ÿæˆè…³æœ¬ï¼š{analysis}",
    "label": "generate-script"
  }
}

// ä¸¦è¡ŒåŸ·è¡Œï¼ˆä½¿ç”¨ Promise.all ç­‰åƒ¹ç‰©ï¼‰
{
  "tool": "sessions_spawn",
  "parameters": {
    "agentId": "data",
    "task": "æŸ¥è©¢éŠ·å”®æ•¸æ“š"
  }
}
// åŒæ™‚èª¿ç”¨ research-agent
{
  "tool": "sessions_spawn",
  "parameters": {
    "agentId": "research",
    "task": "æœç´¢æœ€ä½³å¯¦è¸"
  }
}
```

---

## ğŸ¯ å¯¦éš›å ´æ™¯ï¼šç”¨æˆ¶è«‹æ±‚ã€Œåˆ†æéŠ·å”®æ•¸æ“šä¸¦ç”Ÿæˆå ±å‘Šã€

```
User: "åˆ†æé€™å€‹æœˆçš„éŠ·å”®æ•¸æ“šä¸¦ç”Ÿæˆå ±å‘Š"
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 1: Classifier-Agent                                â”‚
â”‚  æ„åœ–: data                                              â”‚
â”‚  å­æ„åœ–: sales_report                                    â”‚
â”‚  éœ€è¦å·¥å…·: [exec, read, write]                          â”‚
â”‚  è¤‡é›œåº¦: high                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 2: Manager-Agent                                   â”‚
â”‚  æ±ºç­–: data â†’ qa â†’ chat                                  â”‚
â”‚  ä¸¦è¡Œ: ç„¡                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 3: Data-Agent                                      â”‚
â”‚  1. é€£æ¥è³‡æ–™åº« (psql)                                    â”‚
â”‚  2. åŸ·è¡ŒæŸ¥è©¢: SELECT * FROM sales WHERE month = '2025-02'â”‚
â”‚  3. èšåˆæ•¸æ“š                                             â”‚
â”‚  4. è¿”å› JSON çµæœ                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 4: QA-Agent                                        â”‚
â”‚  1. é©—è­‰æ•¸æ“šå®Œæ•´æ€§                                       â”‚
â”‚  2. æª¢æŸ¥ç•°å¸¸å€¼                                           â”‚
â”‚  3. è³ªé‡è©•åˆ†: 0.95                                      â”‚
â”‚  4. é€šéé©—è­‰                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 5: Manager-Agent (çµæœå”èª¿)                        â”‚
â”‚  åŒ¯ç¸½: Data-Agent æˆåŠŸ + QA-Agent é€šé                   â”‚
â”‚  è§¸ç™¼: Chat-Agent                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 6: Chat-Agent                                      â”‚
â”‚  ç”Ÿæˆå‹å¥½å›æ‡‰:                                           â”‚
â”‚  "é€™å€‹æœˆç¸½éŠ·å”®é¡ç‚º $123,456ï¼Œæ¯”ä¸Šæœˆå¢é•· 15%..."          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
User Response (WhatsApp)
```

---

## ğŸ“Š ç¸½çµ

| çµ„ä»¶ | è·è²¬ | å·¥å…· | ç‰¹é» |
|------|------|------|------|
| **Classifier** | æ„åœ–è­˜åˆ¥ | memory_search, web_search | è¼•é‡ï¼Œå¿«é€Ÿ |
| **Manager** | è·¯ç”±å”èª¿ | sessions_spawn, sessions_send | ä¸­æ¨ï¼Œå¯è§€å¯Ÿ |
| **Chat** | å°è©±ç”Ÿæˆ | read, web_search | å‹å¥½ï¼Œäº¤äº’å¼ |
| **Task** | ä»»å‹™åŸ·è¡Œ | exec, message, cron | å¯¦ç”¨ï¼Œå·¥å…·å¤š |
| **Coding** | ä»£ç¢¼ç”Ÿæˆ | read, write, exec, edit | æ²™ç®±éš”é›¢ |
| **Data** | æ•¸æ“šè™•ç† | exec, web_fetch | æ•¸æ“šå°å‘ |
| **QA** | è³ªé‡æª¢æŸ¥ | read, memory_search | åªè®€ï¼Œå®‰å…¨ |

---

## ğŸ” èª¿è©¦æŠ€å·§

### æŸ¥çœ‹å­ Agent ç‹€æ…‹

```bash
# åˆ—å‡ºç•¶å‰æœƒè©±çš„ sub-agents
/subagents list

# æŸ¥çœ‹ç‰¹å®š sub-agent çš„æ—¥èªŒ
/subagents log <runId> 50

# æŸ¥çœ‹ sub-agent çš„è©³ç´°ä¿¡æ¯
/subagents info <runId>
```

### æœƒè©±æ­·å²

```bash
# æŸ¥çœ‹å®Œæ•´å°è©±è¨˜éŒ„
openclaw gateway call sessions.history --params '{"sessionKey":"agent:main:subagent:<uuid>"}'
```

---

é€™å°±æ˜¯ OpenClaw Multi-Agent çš„å®Œæ•´æµç¨‹ï¼æœ‰å’©æƒ³æ·±å…¥äº†è§£å˜…éƒ¨åˆ†ï¼Ÿ